<!-- Sezione Immagine Profilo --><div class="uk-child-width-expand@s uk-text-center" uk-grid><div class="uk-width-1-6@m"></div><div class="uk-width-2-3@m uk-card uk-card-default uk-card-body"><img id="img" class="profile-img" alt="" uk-img><h3 class="uk-card-title">{{client.name}} {{client.surname}}</h3><div class="js-upload" uk-form-custom><input id="file" class="inputfile" type="file" name="file" onchange="angular.element(this).scope().uploadFile(this.files)"> <button class="uk-button uk-button-primary" type="button" tabindex="-1">Carica Foto</button></div><!-- Sezione Dati Profilo --><div><table class="uk-table uk-table-small uk-table-hover uk-table-divider"><thead><tr><th>Abbonamento</th><th>Scadenza</th><th>Limite Ingressi</th><th>Ingressi Effettuati</th><th>Certificato</th><th>Tesseramento</th></tr></thead><tbody><tr><td>{{lastSubscription.sport.name}}</td><td ng-class="{'uk-alert-success': !isExpired(client.expirationDate), 'uk-alert-danger': isExpired(client.expirationDate)}">{{lastSubscription.toDate}}</td><td>{{lastSubscription.sport.maxEntrance}}</td><td>{{entrances.length}}</td><td ng-class="{'uk-alert-success': !isExpired(client.certificateExpirationDate), 'uk-alert-danger': isExpired(client.certificateExpirationDate)}">{{client.certificateExpirationDate}}</td><td></td></tr></tbody></table><!-- Max Entrance Alert --><p ng-show="maxEntrance" class="uk-margin uk-alert-danger">{{maxEntranceMsg}}</p><button class="uk-button uk-button-default uk-margin-small-right" type="button" uk-toggle="target: #subscription">Abbonamento</button> <button class="uk-button uk-button-default uk-margin-small-right" type="button" uk-toggle="target: #certificate">Certificato</button> <button ng-disabled="lastSubscription.sport.maxEntrance <= entrances.length" class="uk-button uk-button-default uk-margin-small-right" type="button" uk-toggle="target: #ingresso">Ingresso</button><!-- Tabella Ingressi --><table class="uk-table uk-table-small uk-table-hover uk-table-divider"><thead><tr><th class="uk-text-center">Data</th><th class="uk-text-center">Azioni</th></tr></thead><tbody><tr ng-repeat="row in entrances"><td>{{row.date}}</td><td><button class="uk-button uk-button-small uk-button-danger" type="button">Rimuovi</button></td></tr></tbody></table></div></div></div><!-- Subscription Modal --><div id="subscription" uk-modal><div class="uk-modal-dialog uk-modal-body"><h2 class="uk-modal-title">Rinnovo Abbonamento</h2><form class="uk-form-stacked"><!-- From Date --><div class="uk-margin"><label class="uk-form-label" for="from">Data di inizio:</label> <input id="from" ng-model="subscription.fromDate" class="uk-input uk-form-width-large" type="date" ng-change="changeFromDate(subscription.fromDate)" required></div><!-- To Date --><div class="uk-margin"><label class="uk-form-label" for="to">Data di fine:</label> <input id="to" ng-model="subscription.toDate" class="uk-input uk-form-width-large" type="date" disabled="disabled" required></div><!-- Durata --><div class="uk-margin"><label class="uk-form-label" for="durata">Durata:</label> <select id="durata" class="uk-select" ng-model="subscription.month" ng-change="changeFromDate(subscription.fromDate); computeTotalPrice(subscription)"><option ng-repeat="month in months" ng-value="month">{{month.description}}</option></select></div><!-- Sport --><div class="uk-margin"><label class="uk-form-label" for="sport">Abbonamento:</label> <select id="sport" class="uk-select" ng-model="subscription.sport" ng-change="computeTotalPrice(subscription)"><option ng-repeat="sport in sports" ng-value="sport">{{sport.name}}</option></select></div><!-- To Date --><div class="uk-margin"><label class="uk-form-label" for="total">Totale:</label> <input id="total" ng-model="subscription.price" class="uk-input uk-form-width-large" disabled="disabled" required></div></form><p class="uk-text-right"><button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button> <button class="uk-button uk-button-primary" type="button" ng-click="save(subscription)">Save</button></p></div></div><!-- Certificate Modal --><div id="certificate" uk-modal><div class="uk-modal-dialog uk-modal-body"><h2 class="uk-modal-title">Rinnovo Certificato</h2><p>...</p><form><!-- Date --><div class="form-group text-center"><span class="my-label">Data di scadenza: </span><input ng-model="client.certificateExpirationDate" class="form-control" type="date" required></div></form><p class="uk-text-right"><button class="uk-button uk-button-default uk-modal-close" type="button">Cancel</button> <button class="uk-button uk-button-primary" type="button" ng-click="saveClient(client)">Save</button></p></div></div><!-- Ingresso Modal --><div id="ingresso" uk-modal><div class="uk-modal-dialog uk-modal-body"><h2 class="uk-modal-title">Ingresso</h2><p>Sei sicuro di voler confermare l'ingresso dell'utente ?</p><p class="uk-text-right"><button class="uk-button uk-button-default uk-modal-close" type="button">Cancella</button> <button class="uk-button uk-button-primary" type="button" ng-click="confermaIngresso(client)">Conferma</button></p></div></div>